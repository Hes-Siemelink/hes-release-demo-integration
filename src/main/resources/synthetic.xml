<synthetic xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xmlns="http://www.xebialabs.com/deployit/synthetic"
           xsi:schemaLocation="http://www.xebialabs.com/deployit/synthetic synthetic.xsd">

        <type type="ContainerTemplate.Server" extends="configuration.HttpConnection" description="Configure the server.">
            <!-- Hide the fields which are not relevant for the integration -->
            <property name="domain" default="empty" hidden="true"/>
            <property name="clientId" default="empty" hidden="true"/>
            <property name="clientSecret" default="empty" hidden="true" password="true"/>
            <property name="scope" default="empty" hidden="true"/>
            <property name="accessTokenUrl" default="empty" hidden="true"/>
            <property name="authenticationMethod" kind="enum"
                      enum-class="com.xebialabs.xlrelease.domain.configuration.HttpConnection$AuthenticationMethod"
                      default="Basic">
                <enum-values>
                    <value>Basic</value>
                </enum-values>
            </property>
    </type>

    <type type="ContainerTemplate.BaseTask" extends="xlrelease.ContainerTask" virtual="true">
        <!-- container image - location of the task logic -->
        <property name="image" required="true" hidden="true" default="@registry.url@/@registry.org@/@project.name@:@project.version@" />
        <property name="registryUrl" required="true" hidden="true" default="@registry.url@" />

        <!-- required capabilities required by all the tasks-->
        <property name="defaultRequiredCapabilities" default="container" required="true" kind="set_of_string" hidden="true" transient="true"/>

        <property name="additionalCapabilities" default="container" required="false" kind="set_of_string" hidden="true" transient="true"/>
        <!-- task UI properties -->
        <property name="iconLocation" default="test.png" hidden="true"/>
        <property name="taskColor" hidden="true" default="#667385" />
    </type>

    <type type="ContainerTemplate.apiExample" label='API Example' extends="ContainerTemplate.BaseTask">
        <property name="scriptLocation" category="script" kind="string" hidden="true" default="example_api.py"/>
        <property name="productId" category="input" kind="string" default="1"/>
        <property name="productName" kind="string" category="output" />
        <property name="brand" kind="string" category="output" />
    </type>

    <type type="ContainerTemplate.abortExample" label='Abort Example' extends="ContainerTemplate.BaseTask">
        <property name="scriptLocation" category="script" kind="string" hidden="true" default="example_abort.py"/>
        <property name="server" category="input" referenced-type="ContainerTemplate.Server" kind="ci" description="Server to connect to"/>
        <property name="username" category="input" required="false" description="Overrides the username used to connect to the server"/>
        <property name="password" password="true" category="input" required="false" description="Overrides the password used to connect to the server"/>
        <property name="retryWaitingTime" category="input" kind="integer" default="5" description="Waiting time for retry in sec"/>
        <property name="retryCount" category="input" kind="integer" default="10" description="Number of retries"/>
        <property name="statusCode" kind="integer" category="output" description="Responded HTTP Status"/>
    </type>



</synthetic>
